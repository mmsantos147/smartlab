# BMP180

Para o uso do BMP180 no sistema, utilizamos as informações contidas no site do [ESPHome BMP085 Temperature+Pressure Sensor](https://esphome.io/components/sensor/bmp085/). Apesar de ser do sensor BMP085, a configuração do BMP180 segue a mesma lógica.

## Comunicação

O sensor BMP180 utiliza o protocolo de comunicação $I^2C$ (Inter-Integrated Circuit), esse protocolo é um barramento de comunicação serial síncrono. Ele permite a conexão de múltiplos dispositivos utilizando apenas duas linhas de comunicação.

O sensor BMP180 possui as seguintes entradas:

SDA (Serial Data)
- Linha bidirecional responsável pela transmissão de dados
- No projeto, conectada ao pino GPIO26 do ESP32

SCL (Serial Clock)
- Linha de clock gerada pelo dispositivo mestre (ESP32)
- Sincroniza a transmissão de dados entre os dispositivos
- Define a velocidade de comunicação (frequência)
- No projeto, conectada ao pino GPIO27 do ESP32

## Implementação

Para conecta-lo ao Home Assistant foi necessário ajustar o arquivo de configuração yaml do ESPHome para ler os dados captados do sensor.

Arquivo de configuração .yaml:
```yaml
i2c:
  sda: 26
  scl: 27
  scan: true
  id: bus_a
  
sensor:
    - platform: bmp085
        address: 0x77
        temperature:
        name: "Temperatura BMP180"
        id: bmp180_temp
        filters:
            - offset: 0.0 
        pressure:
        name: "Pressão"
        id: bmp180_pressao
        filters:
            - offset: 0.0 
        update_interval: 5s
```
- Parâmetros configuráveis: 
    - temperature: A informação do sensor de temperatura incluso.
        - Recebe todas as opções da configuração base dos sensores, consultado no seguinte site: [ESPHome Sensor Component](https://esphome.io/components/sensor/).
    - pressure: TA informação do sensor de pressão atmosférica.
        - Recebe todas as opções da configuração base dos sensores, consultado no seguinte site: [ESPHome Sensor Component](https://esphome.io/components/sensor/).
    - address (Opcional, int): Especificar manualmente o endereço de conexão $I^2C$. Padrão é 0x77.
    - update_interval (Opcional, Time): Intervalo entre os monitoramentos. Padrão é 60s.